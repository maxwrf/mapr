<div id='modal' class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><%= data['name'] %></h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="mb-2 modal-body">
      <% if data['photos'] %>
          <h5 class="mt-2">Photos</h5>
          <% data['photos'].take(8).each do |photo| %>
            <% ref = photo['photo_reference'] %>
            <% img_src = "https://maps.googleapis.com/maps/api/place/photo?maxwidth=150&photoreference=#{ref}&key=#{ENV['GOOGLE_API_KEY']}" %>
            <img class="card-img-top activity-card-img" src="<%= img_src %>" alt="">
          <% end %>
        <% end %>
        <% if data['price_level'] %>
          <p><%= data['price_level'] %></p>
        <% end %>
        <% if data['opening_hours'] %>
        <h5 class="mt-2">Opening hours</h5>
        <ul>
          <% data['opening_hours']['weekday_text'].each do |weekday| %>
           <li class="opening-hours"><%= weekday %></li>
          <% end %>
        </ul>
        <% end %>
         <div class="mt-2 row align-items-center">
           <h5 class="col">Latest Reviews</h5>
            <p class="col card-rating text-right">
              Overall <%= data['rating'] %>
            </p>
         </div>
        <% data['reviews'].each do |review|  %>
        <div class="row">
          <p class='col-2'><%= review['rating'] %><i class="fas fa-star"></i></p>
          <% truncated = false %>
          <% text = review['text'] %>
          <% if text.length > 150 %>
            <% text = text.truncate(150) %>
            <% truncated = true %>
          <% end %>
          <p class='col'>
            <%= text %>
            <% if truncated %>
              <a class='show-more' href='#'> more</a>
            <% end %>
          </p>
        </div>
        <% end %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

